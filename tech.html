<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Build Guide | Seeds of Sound</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- Navigation -->
    <nav>
      <div class="logo">
        <a href="index.html"><img src="images/Logo2.jpeg" alt="Bishop's CS Club logo" onerror="this.style.display='none'" /></a>
      </div>
      <div class="nav-links">
        <a href="index.html">Home</a>
        <a href="seeds.html">Seeds of Sound</a>
        <a href="tech.html">Build Guide</a>
        <a href="firstsupper.html">The First Supper</a>
        <a href="team.html">Team</a>
        <a href="contact.html">Contact</a>
      </div>
      <button id="dark-toggle" class="dark-toggle">Dark Mode</button>
    </nav>

    <!-- Header -->
    <section class="hero">
      <video src="videos/hero.mp4" autoplay loop muted playsinline poster="images/hero-phone.jpeg"></video>
      <div class="overlay">
        <h1>Technical Build Guide</h1>
        <p>
          A step‚Äëby‚Äëstep overview of the hardware, wiring and software
          powering the Seeds of Sound installation.
        </p>
      </div>
    </section>

    <!-- Core Requirements -->
    <section>
      <div class="container">
        <h2 class="section-title">Core Requirements</h2>
        <div class="feature-card" style="max-width: 900px; margin: 0 auto;">
          <ul style="line-height: 2;">
            <li>A vintage rotary or feature phone (only the casing and handset are needed)</li>
            <li>Ability to play at least 10 minutes of audio in high quality (44.1 kHz/16‚Äëbit)</li>
            <li>Playback must stop when the handset is replaced and resume with a new random track when lifted</li>
            <li>All components should be durable and neatly fitted for multi‚Äëday exhibitions</li>
            <li>Test the original handset speaker; replace with an 8 Œ© speaker if necessary</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Engineering Process Gallery -->
    <section style="background: var(--surface-color);">
      <div class="container">
        <h2 class="section-title">Engineering Process</h2>
        <p style="text-align: center; color: var(--muted-text-color); max-width: 800px; margin: 0 auto 2rem; font-size: 1.05rem;">
          From initial prototypes to final assembly ‚Äî documenting every step of the build.
        </p>
        
        <div class="hardware-gallery">
          <img src="images/while_working.jpeg" alt="Initial prototyping session" onerror="this.style.display='none'" />
          <img src="images/while_working.JPEG" alt="Circuit design and testing" onerror="this.style.display='none'" />
          <img src="images/while_working(3).JPEG" alt="Component integration" onerror="this.style.display='none'" />
          <img src="images/while_working(4).JPEG" alt="Team collaboration on wiring" onerror="this.style.display='none'" />
          <img src="images/while_working(5).JPEG" alt="Hardware assembly" onerror="this.style.display='none'" />
          <img src="images/while_working(6).JPEG" alt="Testing phase" onerror="this.style.display='none'" />
          <img src="images/while_working(6).DJPEG" alt="Circuit verification" onerror="this.style.display='none'" />
          <img src="images/while_working--_2_.jpeg" alt="Final assembly work" onerror="this.style.display='none'" />
        </div>
      </div>
    </section>

    <!-- Hardware Components -->
    <section>
      <div class="container">
        <h2 class="section-title">Hardware Components</h2>
        
        <div class="feature-grid">
          <div class="feature-card">
            <h3>üìû Phone & Mechanical</h3>
            <ul>
              <li>Vintage rotary or feature phone with sturdy shell</li>
              <li>Original handset with speaker and microphone</li>
              <li>Hook switch mechanism (or replacement reed/microswitch)</li>
            </ul>
          </div>
          
          <div class="feature-card">
            <h3>üñ•Ô∏è Control & Playback</h3>
            <ul>
              <li>Raspberry Pi Zero 2 W or Pi 3A+</li>
              <li>MicroSD card (16‚Äì32 GB) for OS and audio files</li>
              <li>Reliable 5V/2A USB power supply</li>
            </ul>
          </div>
          
          <div class="feature-card">
            <h3>üîä Audio Chain</h3>
            <ul>
              <li>I¬≤S DAC HAT (MAX98357A or HiFiBerry DAC Zero)</li>
              <li>PAM8403 or MAX98357A amplifier</li>
              <li>8Œ© handset speaker (test or replace original)</li>
            </ul>
          </div>
          
          <div class="feature-card">
            <h3>‚ö° Switching & Control</h3>
            <ul>
              <li>Magnetic reed switch or microswitch</li>
              <li>GPIO breakout wires</li>
              <li>10kŒ© pull-down resistors</li>
              <li>Jumper wires and connectors</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Wiring Details Gallery -->
    <section style="background: var(--surface-color);">
      <div class="container">
        <h2 class="section-title">Circuit Wiring Details</h2>
        <p style="text-align: center; color: var(--muted-text-color); max-width: 800px; margin: 0 auto 2rem; font-size: 1.05rem;">
          Close-up views of the circuit connections and wiring configurations.
        </p>
        
        <div class="hardware-gallery">
          <img src="images/wiring1.jpeg" alt="Wiring diagram - hook switch connection" onerror="this.style.display='none'" />
          <img src="images/wiring2.jpeg" alt="Circuit board with testing probes" onerror="this.style.display='none'" />
          <img src="images/wiring3.jpeg" alt="Audio amplifier connections" onerror="this.style.display='none'" />
          <img src="images/wiring4.jpeg" alt="Final integrated circuit" onerror="this.style.display='none'" />
        </div>
      </div>
    </section>

    <!-- Wiring & Assembly -->
    <section>
      <div class="container">
        <h2 class="section-title">Wiring &amp; Assembly Steps</h2>
        <div style="max-width: 900px; margin: 0 auto;">
          <p style="font-size: 1.05rem; margin-bottom: 2rem; line-height: 1.8;">
            Follow these high‚Äëlevel steps to assemble the phone:
          </p>
          
          <div class="feature-card">
            <h3 style="color: var(--primary-color); margin-bottom: 1rem;">Step 1: Disassembly</h3>
            <p>Carefully disassemble the vintage phone, removing the old dial mechanism if extra space is needed for components.</p>
          </div>
          
          <div class="feature-card">
            <h3 style="color: var(--primary-color); margin-bottom: 1rem;">Step 2: Hook Switch Identification</h3>
            <p>Identify the hook switch terminals that open and close when the handset is lifted or replaced. Test with a multimeter.</p>
          </div>
          
          <div class="feature-card">
            <h3 style="color: var(--primary-color); margin-bottom: 1rem;">Step 3: Speaker Testing</h3>
            <p>Test the handset speaker with a multimeter (should read ‚âà8Œ© impedance). Test with a small amplifier; replace if sound quality is poor.</p>
          </div>
          
          <div class="feature-card">
            <h3 style="color: var(--primary-color); margin-bottom: 1rem;">Step 4: Switch Installation</h3>
            <p>Install the reed or microswitch so it closes the circuit when the handset is lifted. Connect one side to a GPIO pin and the other to ground with a 10kŒ© pull‚Äëdown resistor.</p>
          </div>
          
          <div class="feature-card">
            <h3 style="color: var(--primary-color); margin-bottom: 1rem;">Step 5: Audio Chain Connection</h3>
            <p>Connect the Raspberry Pi's I¬≤S pins to the DAC HAT, then route the DAC output to the amplifier. Finally, connect the amplifier output to the handset speaker.</p>
          </div>
          
          <div class="feature-card">
            <h3 style="color: var(--primary-color); margin-bottom: 1rem;">Step 6: Power Management</h3>
            <p>Power both the Raspberry Pi and amplifier from the same 5V source. Ensure all wiring is secure and components are hidden inside the phone base.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Software Setup -->
    <section style="background: var(--surface-color);">
      <div class="container">
        <h2 class="section-title">Software &amp; Control Script</h2>
        <div style="max-width: 900px; margin: 0 auto;">
          <p style="font-size: 1.05rem; margin-bottom: 2rem; line-height: 1.8;">
            Start with Raspberry Pi OS Lite and enable SSH for headless configuration. Install
            audio tools and Python libraries:
          </p>
          <pre><code>sudo apt update && sudo apt upgrade
sudo apt install mpg123 python3-pip
pip3 install pygame RPi.GPIO</code></pre>
          
          <p style="font-size: 1.05rem; margin: 2rem 0 1rem; line-height: 1.8;">
            Store your audio files in <code style="background: var(--surface-color); padding: 0.2rem 0.5rem; border-radius: 4px;">/home/pi/audio/</code>. The Python script below illustrates
            the core logic for random playback and hook‚Äëswitch detection:
          </p>
          
          <pre><code>import os, random, signal, time
import subprocess
import RPi.GPIO as GPIO

HOOK_PIN = 18
AUDIO_DIR = "/home/pi/audio/"
current_process = None

GPIO.setmode(GPIO.BCM)
GPIO.setup(HOOK_PIN, GPIO.IN, pull_up_down=GPIO.PUD_DOWN)

def play_random_audio():
    global current_process
    file = random.choice(os.listdir(AUDIO_DIR))
    path = os.path.join(AUDIO_DIR, file)
    current_process = subprocess.Popen(["mpg123", path])

def stop_audio():
    global current_process
    if current_process:
        current_process.send_signal(signal.SIGTERM)
        current_process = None

try:
    while True:
        if GPIO.input(HOOK_PIN):
            if not current_process:
                play_random_audio()
        else:
            stop_audio()
        time.sleep(0.2)
except KeyboardInterrupt:
    GPIO.cleanup()</code></pre>
          
          <p style="font-size: 1.05rem; margin-top: 2rem; line-height: 1.8;">
            Enable your script to run on boot using systemd for reliable,
            multi‚Äëday exhibition use. Thoroughly test audio playback, hook
            detection and stress‚Äëtest multiple lift/hang cycles (we tested 100+ cycles).
          </p>
        </div>
      </div>
    </section>

    <!-- Final Product Gallery -->
    <section>
      <div class="container">
        <h2 class="section-title">Final Product</h2>
        <p style="text-align: center; color: var(--muted-text-color); max-width: 800px; margin: 0 auto 2rem; font-size: 1.05rem;">
          The completed Seeds of Sound installation ready for exhibition.
        </p>
        
        <div class="large-gallery">
          <img src="images/the_final_project_pic.jpeg" alt="Seeds of Sound final installation" onerror="this.style.display='none'" />
          <img src="images/onCampus.jpeg" alt="Installation on campus" onerror="this.style.display='none'" />
          <img src="images/onCampus2.jpeg" alt="Exhibition display" onerror="this.style.display='none'" />
          <img src="images/MAIN_TEAM.JPEG" alt="Team with completed project" onerror="this.style.display='none'" />
        </div>
      </div>
    </section>

    <!-- Presentation Polish -->
    <section style="background: var(--surface-color);">
      <div class="container">
        <h2 class="section-title">Presentation &amp; Finishing Touches</h2>
        <div class="feature-grid">
          <div class="feature-card">
            <h3>üé® Aesthetic Integration</h3>
            <ul>
              <li>Mount Pi and amplifier securely with 3D‚Äëprinted brackets or hot glue</li>
              <li>Keep original dial and keys intact for authenticity</li>
              <li>Conceal all modern electronics inside vintage casing</li>
              <li>Polish exterior to museum-quality finish</li>
            </ul>
          </div>
          
          <div class="feature-card">
            <h3>üìã Documentation</h3>
            <ul>
              <li>Add small label plate with QR code linking to website</li>
              <li>Create user instruction card for exhibition visitors</li>
              <li>Prepare technical documentation for maintenance</li>
              <li>Document all wiring for future troubleshooting</li>
            </ul>
          </div>
          
          <div class="feature-card">
            <h3>‚úÖ Quality Assurance</h3>
            <ul>
              <li>Stress‚Äëtest with 10+ minute audio tracks</li>
              <li>Verify hook switch reliability (100+ cycles)</li>
              <li>Test multi-day continuous operation</li>
              <li>Validate audio quality and volume levels</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Troubleshooting -->
    <section>
      <div class="container">
        <h2 class="section-title">Troubleshooting Guide</h2>
        <div style="max-width: 900px; margin: 0 auto;">
          <div class="feature-card">
            <h3 style="color: var(--accent-color);">Common Issues & Solutions</h3>
            <ul style="line-height: 2;">
              <li><strong>No startup beep:</strong> Check USB-C connection, verify 5V/2A power supply</li>
              <li><strong>No audio playback:</strong> Ensure handset is firmly seated on hook switch, verify audio files in /home/pi/audio/</li>
              <li><strong>Static or distortion:</strong> Check speaker terminal connections, adjust amplifier gain</li>
              <li><strong>Hook switch not detecting:</strong> Test switch with multimeter, verify GPIO pin configuration</li>
              <li><strong>System won't start:</strong> Re-flash microSD card from backup image</li>
              <li><strong>Audio cuts out:</strong> Check power supply stability, verify amplifier connections</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <img src="images/Logo2.jpeg" alt="Bishop's CS Club Logo" onerror="this.style.display='none'" />
      <p>
        &copy; 2025 Bishop's University Computer Science Club. All rights
        reserved.
      </p>
      <p>
        <strong>CS Club members and contributors:</strong> Masoud Rafiee, Daniel Anastasio
        Carone, Umba Lubembele, Hugo Erick Zamora Zorrilla, Ineza Bont√©
        Gr√©vy. <strong>Art Department collaborators:</strong> Imen Djendli. <strong>Sustainable Agriculture:</strong> Dr. Vivian
        Valencia.
      </p>
    </footer>

    <script src="script.js"></script>
  </body>
</html>
